<%= javascript_pack_tag 'index' %>

<p id="notice"><%= notice %></p>
<div class="container">
  <div class="row">
    <div class="col-lg-12 mx-md-auto">
      <h1>Users</h1>

    <%= link_to 'New User', new_user_path, class: "btn btn-primary btn-lg mb-4", data: {bs_toggle: 'modal', bs_target: '#newUserModal', remote: true} %>

    <table id="example" class= "table table-striped table-hover">
      <thead>
        <tr>
          <th>
            <div class="form-check">
              <input class="checkAll" type="checkbox" name="checkAll" >
              <label class="form-check-label" for="flexCheckDefault">
                Select All
              </label>
            </div>
          </th>  
          <th>Name</th>
          <th>Email</th>
          <th>Address</th>
          <th>Contact</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td>
              <div class="form-check">
                class="js-check-all-target" data-check-all="language"
                <input class="checkboxes" type="checkbox">
                <label class="form-check-label" for="flexCheckDefault">
                  
                </label>
              </div>
            </td>
            <td><%= user.name %></td>
            <td><%= user.email %></td>
            <td><%= user.address %></td>
            <td><%= user.contact %></td>
            <td>
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Select Action
                </button>
                <ul class="dropdown-menu">
                  <li><%= link_to 'Show', user, class: "dropdown-item" %></li>
                  <li><%= link_to 'Edit', edit_user_path(user), class: "dropdown-item", data: { bs_toggle: 'modal', bs_target: '#editUserModal', remote: true } %></a></li>
                  <li><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, class: "dropdown-item" %></li>
                </ul>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <button type="button" class="btn btn-danger">Delete All</button>
    </div>
  </div>
</div>

<br>

<!-- New Modal -->
<div class="modal fade" id="newUserModal" tabindex="-1" aria-labelledby="newUserModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="newUserModalLabel">Create New User</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="newUserForm">
        
      </div>
    </div>
  </div>
</div>

<!-- Edit Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="editUserModalLabel">Edit User</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="editUserForm">
        
      </div>
    </div>
  </div>
</div>



